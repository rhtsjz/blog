# 北京2018年积分落户公示名单
## 数据获取
1. 获取方式 `sh get.sh 0 602 > t.txt` 参数为开始页码和结束页码
下载起来很快,1分钟左右
## 数据清洗
1. 下载的原始数据位于文件 `t.txt` 中,但是有个问题文件中的中文乱码,看来是编码的问题了,网站的编码是GBK,  
通过chrome的开发者工具看了下,果然是这样,响应头中有这么一项 `Content-Type: application/json;charset=GBK`  
使用idea打开选择编码为`GBK`出现了汉字,然后手动复制到文件 `t1.txt` 中,至此数据就可以使用了
2. 文件 `t1.txt` 中每行是一页的数据,需要做进一步的处理,最好是每行一个人的数据,
使用 `sed` 对文件 `t1.txt` 进行切割与替换之后得到 `t2.txt` ,这样得到了每个人一行
3. 再从 `t2.txt` 中提取数据,
从身份证号 `idCard` 中
提取省份得到文件 `province.txt` ,
提取出生年得到文件 `birth_year.txt`
从 `score`(一行中有两个 `score` ,此处使用的是行尾的) 中提取分数得到文件 `score.txt` (此处对分数做了向下取整)
从 `unit` 中提取公司得到文件 `unit.txt`
## 数据展示
1. 在 `http://jsfiddle.net/` 将年龄和分数做了饼图这样看起来更直观一些
[年龄](http://jsfiddle.net/rhtsjz/3dLxq6ye/show)
[分数](http://jsfiddle.net/rhtsjz/vn41y35j/show)
2. 人数top10公司

人数 | 公司
--- | ---
137 | 北京华为数字技术有限公司
73 | 中央电视台
57 | 北京首钢建设集团有限公司
55 | 百度在线网络技术（北京）有限公司
48 | 联想（北京）有限公司
40 | 中国民生银行股份有限公司
40 | 北京外企人力资源服务有限公司
39 | 国际商业机器（中国）投资有限公司
29 | 中国国际技术智力合作有限公司
27 | 华为技术有限公司北京研究所
3. 人数top10省份

人数 | 省份代码 | 省份
--- | ---
894 | 13 | 河北
484 | 21 | 辽宁
445 | 37 | 山东
444 | 23 | 黑龙江
340 | 15 | 内蒙古
316 | 14 | 山西
309 | 41 | 河南
309 | 22 | 吉林
290 | 42 | 湖北
239 | 12 | 天津
4. 人数top10年龄

人数 | 年龄
--- | ---
813 | 41
799 | 40
773 | 39
757 | 42
586 | 43
507 | 38
507 | 44
378 | 45
302 | 37
238 | 46

5. 人数top10分数

人数 | 分数
--- | ---
933 | 91
825 | 92
706 | 93
603 | 94
530 | 95
405 | 96
341 | 97
261 | 98
252 | 90
234 | 99
